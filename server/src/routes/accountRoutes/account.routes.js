import express from "express";
import { userAuth } from "../../middlewares/auth.middleware.js";

import * as accountController from "../../controllers/user/account.controller.js";
import { allowRoles } from "../../middlewares/roleAuth.middleware.js";

export const accountRouter = express.Router();

accountRouter.use(userAuth);

accountRouter
  .route("/")
  .get(allowRoles("manager", "user"), accountController.getAccountData)
  .post(allowRoles("manager", "user"), accountController.registerAccount);
accountRouter.put(
  "/update",
  allowRoles("manager", "user"),
  accountController.updateAccount,
);
